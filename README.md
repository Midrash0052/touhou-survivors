# éœ²ç±³å¨…å¹¸å­˜è€… - TypeScript é‡æ„ç‰ˆ

ä¸œæ–¹Projectä¸»é¢˜çš„å¹¸å­˜è€…ç±»æ¸¸æˆï¼ˆç±»ä¼¼å¸è¡€é¬¼å¹¸å­˜è€…ï¼‰ï¼Œé‡‡ç”¨ TypeScript + Vite é‡æ„ï¼Œå…·æœ‰æ¨¡å—åŒ–æ¶æ„å’Œæ•°æ®é©±åŠ¨è®¾è®¡ã€‚

## é¡¹ç›®ç‰¹ç‚¹

- **TypeScript** - ç±»å‹å®‰å…¨ï¼Œæ˜“äºç»´æŠ¤
- **æ¨¡å—åŒ–æ¶æ„** - æ¸…æ™°çš„ä»£ç ç»„ç»‡
- **æ•°æ®é©±åŠ¨è®¾è®¡** - æ·»åŠ æ–°è§’è‰²/æŠ€èƒ½/æ•Œäººè¶…ç®€å•
- **äº‹ä»¶ç³»ç»Ÿ** - è§£è€¦çš„æ¸¸æˆé€»è¾‘
- **çƒ­é‡è½½** - å¼€å‘ä½“éªŒä¼˜ç§€

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ `http://localhost:3000`

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©åœ¨ `dist/` ç›®å½•

## é¡¹ç›®ç»“æ„

```
éœ²ç±³å¨…å¹¸å­˜è€…/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒå¼•æ“
â”‚   â”‚   â”œâ”€â”€ Game.ts          # æ¸¸æˆä¸»ç±»
â”‚   â”‚   â”œâ”€â”€ GameLoop.ts      # æ¸¸æˆå¾ªç¯
â”‚   â”‚   â”œâ”€â”€ EventEmitter.ts  # äº‹ä»¶ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ AudioManager.ts  # éŸ³é¢‘ç®¡ç†
â”‚   â”œâ”€â”€ entities/       # æ¸¸æˆå®ä½“
â”‚   â”‚   â”œâ”€â”€ Entity.ts        # å®ä½“åŸºç±»
â”‚   â”‚   â”œâ”€â”€ Player.ts        # ç©å®¶
â”‚   â”‚   â”œâ”€â”€ Enemy.ts         # æ•Œäºº
â”‚   â”‚   â”œâ”€â”€ Bullet.ts        # å­å¼¹
â”‚   â”‚   â””â”€â”€ Effect.ts        # ç‰¹æ•ˆ
â”‚   â”œâ”€â”€ systems/       # æ¸¸æˆç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ CollisionSystem.ts  # ç¢°æ’æ£€æµ‹
â”‚   â”‚   â”œâ”€â”€ SpawnSystem.ts      # æ•Œäººç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ UpgradeSystem.ts    # å‡çº§ç³»ç»Ÿ
â”‚   â”œâ”€â”€ data/          # æ•°æ®é…ç½®ï¼ˆé‡è¦ï¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ characters.ts    # è§’è‰²é…ç½® â­
â”‚   â”‚   â”œâ”€â”€ upgrades.ts      # å‡çº§æ±  â­
â”‚   â”‚   â””â”€â”€ enemies.ts       # æ•Œäººç±»å‹ â­
â”‚   â”œâ”€â”€ ui/            # UIå±‚
â”‚   â”‚   â”œâ”€â”€ HUD.ts            # æŠ¬å¤´æ˜¾ç¤º
â”‚   â”‚   â”œâ”€â”€ CharacterSelect.ts # è§’è‰²é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ UpgradeScreen.ts   # å‡çº§ç•Œé¢
â”‚   â”‚   â””â”€â”€ GameOverScreen.ts  # æ¸¸æˆç»“æŸ
â”‚   â”œâ”€â”€ main.ts        # ä¸»å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ style.css      # æ ·å¼è¡¨
â”œâ”€â”€ index.html         # HTMLæ¨¡æ¿
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â””â”€â”€ tsconfig.json
```

## ğŸ® å¦‚ä½•æ·»åŠ æ–°è§’è‰²

åªéœ€ç¼–è¾‘ `src/data/characters.ts`ï¼š

```typescript
export const CHARACTERS: Record<string, CharacterConfig> = {
  // æ·»åŠ æ–°è§’è‰²
  marisa: {
    id: 'marisa',
    name: 'é›¾é›¨é­”ç†æ²™',
    color: '#ffff00',
    bgmName: 'æ‹è‰²é­”æœ¯',
    melody: [/* æ—‹å¾‹æ•°æ® */],
    tempo: 150,
    oscillatorType: 'square',
    baseStats: { hp: 8, speed: 4.2, damage: 12, radius: 15 },
    abilities: [
      { name: 'é­”ç‚®', description: 'å‘å°„é«˜ä¼¤å®³ç›´çº¿æ¿€å…‰' },
      { name: 'æ˜Ÿå±‘', description: 'Jé”® (25ç‚¹): æ•£å°„æ˜Ÿå°˜' }
    ],
    gaugeName: 'é­”åŠ›æ§½',
    gaugeColor: '#ffffaa',
    availableUpgrades: ['laser', 'spread', 'blast', 'speed', 'heal']
  }
};
```

## ğŸ¯ å¦‚ä½•æ·»åŠ æ–°å‡çº§

åªéœ€ç¼–è¾‘ `src/data/upgrades.ts`ï¼š

```typescript
export const UPGRADES: UpgradeConfig[] = [
  {
    id: 'laser',
    name: 'é­”ç‚®å¼ºåŒ–',
    type: 'æ”»å‡»',
    description: 'æ¿€å…‰ä¼¤å®³æå‡ 25%',
    requiredCharacters: ['marisa'],
    apply: (player) => {
      player.laserDamage = (player.laserDamage || 1) * 1.25;
    },
    maxStack: 5
  }
];
```

## ğŸ² å¦‚ä½•æ·»åŠ æ–°æ•Œäºº

åªéœ€ç¼–è¾‘ `src/data/enemies.ts`ï¼š

```typescript
export const ENEMIES: Record<string, EnemyConfig> = {
  fairy: {
    id: 'fairy',
    name: 'å¦–ç²¾',
    baseHp: 20,
    speed: 1.0,
    radius: 12,
    damage: 1,
    color: '#ff8888',
    spawnWeight: 60
  }
};
```

## å½“å‰è§’è‰²

| è§’è‰² | ç‰¹ç‚¹ | èƒ½é‡æ§½ |
|------|------|--------|
| éœ²ç±³å¨… | é»‘æš—æ“æ§ï¼ŒDoTä¼¤å®³ | å®µæš—æ§½ |
| é­‚é­„å¦–æ¢¦ | é«˜ä¼¤å®³æ–©å‡»ï¼Œè¢«åŠ¨åå‡» | æ—¶é«¦å€¼ |
| åšä¸½çµæ¢¦ | è¿½è¸ªçµå¼¹ï¼Œé˜²å¾¡ç»“ç•Œ | ä¿¡ä»°æ§½ |
| é›¾é›¨é­”ç†æ²™ | ç›´çº¿æ¿€å…‰ï¼ŒèŒƒå›´çˆ†ç‚¸ | é­”åŠ›æ§½ |
| åå…­å¤œå’²å¤œ | é£åˆ€è¿å°„ï¼Œæ—¶é—´åœæ­¢ | æ—¶é—´æ§½ |

## å¼€å‘è®¡åˆ’

- [ ] å®ç°çµæ¢¦ã€é­”ç†æ²™ã€å’²å¤œçš„å®Œæ•´æŠ€èƒ½
- [ ] æ·»åŠ æ›´å¤šæ•Œäººç±»å‹å’ŒBoss
- [ ] å­˜æ¡£ç³»ç»Ÿ
- [ ] æˆå°±ç³»ç»Ÿ
- [ ] æ— å°½æ¨¡å¼
- [ ] æ›´å¤šè§†è§‰æ•ˆæœå’ŒåŠ¨ç”»

## æ“ä½œè¯´æ˜

- **WASD / æ–¹å‘é”®** - ç§»åŠ¨
- **Jé”®** - ä½¿ç”¨æŠ€èƒ½
- ç©å®¶ä¼šè‡ªåŠ¨æ”»å‡»æœ€è¿‘çš„æ•Œäºº

## æŠ€æœ¯æ ˆ

- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **Vite** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **Canvas API** - æ¸¸æˆæ¸²æŸ“
- **Web Audio API** - éŸ³æ•ˆå’ŒéŸ³ä¹ç”Ÿæˆ

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œå¨±ä¹ä½¿ç”¨ã€‚
